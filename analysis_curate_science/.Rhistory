cs.n.iqr <- quantile(x = cs.n, probs = c(.25, .5, .75))
### Psychological bulletin data
pbul.n.n <- length(pbul.cit.df$x_n)
pbul.n <- pbul.cit.df$x_n
pbul.n.iqr <- quantile(x = pbul.n, probs = c(.25, .5, .75))
### Common language effect size
set.seed(20202010)
#n.vda <- vda(x = cs.n, y = pbul.n, ci = T, conf = .99)  # VDA for probability x>y
### Mann-Whitney U test
wilcox.test(cs.n, pbul.n)
### Plot
p.n <- ggplot(data = pbul.df)  +
geom_density(aes(x = x_n^(1/3)), fill = "red", alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.n^(1/3)), aes(x = cs.n^(1/3)), fill = "blue", alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Sample size", title = "C") +
scale_x_continuous(breaks = c(0, 5, 10, 15, 20), labels = c(0, 5, 10, 15, 20)^3, limits = c(0, 20))
## Median replication value of original findings
### Curate science data
cs.RV.n <- length(unique(RVdata[, c("orig.DOI", "orig.study.number", "RV")])[[2]])
cs.RV <- unique(RVdata[, c("orig.DOI", "orig.study.number", "RV")])[[3]]
cs.RV.iqr <- quantile(x = cs.RV, probs = c(.25, .5, .75))
### Psychological bulletin data
pbul.RV.n <- length(pbul.cit.df$RV)
pbul.RV <- pbul.cit.df$RV
pbul.RV.iqr <- quantile(x = pbul.RV, probs = c(.25, .5, .75))
### Common language effect size
set.seed(20202010)
#RV.vda <- vda(x = cs.RV, y = pbul.RV, ci = T, conf = .99)  # VDA for probability x>y
### Mann-Whitney U test
wilcox.test(cs.RV, pbul.RV)
### Plot
p.RV <- ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3)), fill = "red", alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3)), fill = "blue", alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3)
## Combine plots into grid for manuscript
grid.arrange(p.c, p.cy, p.n, p.RV)
nrow(pbul)
nrow(pbul.df)
min(pbul.df$x_pubyear)
max(pbul.df$x_pubyear)
library(ggpubr)
ggarrange(p.c, p.cy, p.n, p.RV, ncol=2, nrow=2, common.legend = TRUE, legend="bottom")
ggarrange(p.c, p.cy, p.n, p.RV, ncol=2, nrow=2, common.legend = TRUE, legend="bottom")
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3)), fill = "red", alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3)), fill = "blue", alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_colour_manual(name = 'the colour', values =c('black'='black','red'='red'), labels = c('c2','c1'))
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = "red"), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = "blue"), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_colour_manual(name = 'the colour', values =c('blue'='blue','red'='red'), labels = c('c2','c1'))
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = "red"), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = "yellow"), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_colour_manual(name = 'the colour', values =c('blue'='blue','red'='red'), labels = c('c2','c1'))
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'yellow'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_colour_manual(name = 'the colour', values =c('blue'='blue','red'='red'), labels = c('c2','c1'))
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'yellow'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_colour_manual(name = 'the colour', values =c('yellow'='yellow','red'='red'), labels = c('c2','c1'))
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'yellow'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'the colour', values =c('yellow'='yellow','red'='red'), labels = c('c2','c1'))
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'blue'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'the colour', values =c('blue'='blue','red'='red'), labels = c('c2','c1'))
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'blue'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'the colour', values =c('blue'='blue','red'='red'), labels = c('replications','general psych research'))
### Plot
p.RV <- ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'blue'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'the colour', values =c('blue'='blue','red'='red'), labels = c('replications','general psych research'))
ggarrange(p.c, p.cy, p.n, p.RV, ncol=2, nrow=2, common.legend = TRUE, legend="bottom")
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'blue'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'sample', values =c('blue'='#f87e72','red'='#7f7fff'), labels = c('replications','general psych research'))
p.RV <- ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'blue'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'sample', values =c('blue'='blue','red'='red'), labels = c('replications','general psych research'))
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'blue'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'sample', values =c('blue'='blue','red'='red'), labels = c('replications','general psych research'))
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'blue'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'sample', values =c('blue'='blue','red'='red'), labels = c('replicated','comparison'))
ggarrange(p.c, p.cy, p.n, p.RV, ncol=2, nrow=2, common.legend = TRUE, legend="bottom")
p.all <- ggarrange(p.c, p.cy, p.n, p.RV, ncol=2, nrow=2, common.legend = TRUE, legend="bottom")
View(p.all)
plot(p.all)
plot(p.all)
ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'blue'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'sample', values =c('red'='red', 'blue'='blue'), labels = c('comparison','replicated'))
p.all <- ggarrange(p.c, p.cy, p.n, p.RV, ncol=2, nrow=2, common.legend = TRUE, legend="bottom")
plot(p.all)
### Plot
p.RV <- ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'blue'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'sample', values =c('red'='red', 'blue'='blue'), labels = c('comparison','replicated'))
p.all <- ggarrange(p.c, p.cy, p.n, p.RV, ncol=2, nrow=2, common.legend = TRUE, legend="bottom")
p.all
p.RV <- ggplot(data = pbul.cit.df)  +
geom_density(aes(x = RV^(1/3), fill = 'red'), alpha = 0.5, na.rm = T, adjust = 0.5) +
geom_density(data = as.data.frame(cs.RV^(1/3)), aes(x = cs.RV^(1/3), fill = 'blue'), alpha = 0.5, na.rm = T, adjust = 0.5) +
theme_classic(base_size = 16) +
labs(x = "Replication value", title = "D") +
scale_x_continuous(breaks = c(0, 0.5, 1.0, 1.5, 2.0), labels = c(0, 0.5, 1.0, 1.5, 2.0)^3) +
scale_fill_manual(name = 'sample', values =c('blue'='blue','red'='red'), labels = c('replicated','comparison'))
## Combine plots into grid for manuscript
p.all <- ggarrange(p.c, p.cy, p.n, p.RV, ncol=2, nrow=2, common.legend = TRUE, legend="bottom")
p.all
?ggarrance
?ggarrange
n.vda
n.vda <- vda(x = cs.n, y = pbul.n, ci = T, conf = .99)  # VDA for probability x>y
n.vda
knitr::kable(head(RVdata))
summary.tab <- data.frame(variable <- c("citation count", "citation count", "citations per year", "citations per year"),
group <- c("replicated", "comparison", "replicated", "comparison"))
summary.tab
knitr::kable(summary.tab)
summary.tab <- data.frame(variable = c("citation count", "citation count", "citations per year", "citations per year"),
group = c("replicated", "comparison", "replicated", "comparison"))
knitr::kable(summary.tab)
cs.n
cs.n.n
cs.c.n
cs.RV.iqr
cs.RV.iqr[1]
cs.RV.iqr[2]
cs.c.iqr[2]
cs.c.iqr[[2]]
knitr::kable(summary.tab)
summary.tab <- data.frame(variable = c("citation count", "citation count", "citations per year", "citations per year"),
group = c("replicated", "comparison", "replicated", "comparison"),
n = c(cs.c.n, pbul.c.n, cs.cy.n, pbul.cy.n),
median = c(cs.c.iqr[[2]], pbul.c.iqr[[2]], cs.cy.iqr[[2]], pbul.cy.iqr[[2]]))
knitr::kable(summary.tab)
n.vda
print(n.vda[1])
print(paste(n.vda[1], "99%CI[",))
paste(n.vda[1], "99%CI[",)
paste(n.vda[1], "99%CI[")
paste(n.vda["VDA"], "99%CI[", n.vda["lower.ci"], n.vda["upper.ci"], "]")
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], n.vda["upper.ci"], "]")
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], " ,", n.vda["upper.ci"], "]")
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]")
summary.tab <- data.frame(variable = c("citation count", "citation count", "citations per year", "citations per year"),
group = c("replicated", "comparison", "replicated", "comparison"),
n = c(cs.c.n, pbul.c.n, cs.cy.n, pbul.cy.n),
median = c(cs.c.iqr[[2]], pbul.c.iqr[[2]], cs.cy.iqr[[2]], pbul.cy.iqr[[2]]),
Q1 = c(cs.c.iqr[[1]], pbul.c.iqr[[1]], cs.cy.iqr[[1]], pbul.cy.iqr[[1]]),
Q3 = c(cs.c.iqr[[3]], pbul.c.iqr[[3]], cs.cy.iqr[[3]], pbul.cy.iqr[[3]]))
knitr::kable(summary.tab)
summary.tab <- data.frame(variable = c("citation count", "citation count", "citations per year", "citations per year"),
group = c("replicated", "comparison", "replicated", "comparison"),
n = c(cs.c.n, pbul.c.n, cs.cy.n, pbul.cy.n),
median = c(cs.c.iqr[[2]], pbul.c.iqr[[2]], cs.cy.iqr[[2]], pbul.cy.iqr[[2]]),
Q1 = c(cs.c.iqr[[1]], pbul.c.iqr[[1]], cs.cy.iqr[[1]], pbul.cy.iqr[[1]]),
Q3 = c(cs.c.iqr[[3]], pbul.c.iqr[[3]], cs.cy.iqr[[3]], pbul.cy.iqr[[3]]),
"A [CI99%]" = c(paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]")))
knitr::kable(summary.tab)
summary.tab <- data.frame(variable = c("citation count", "citation count", "citations per year", "citations per year"),
group = c("replicated", "comparison", "replicated", "comparison"),
n = c(cs.c.n, pbul.c.n, cs.cy.n, pbul.cy.n),
median = c(cs.c.iqr[[2]], pbul.c.iqr[[2]], cs.cy.iqr[[2]], pbul.cy.iqr[[2]]),
Q1 = c(cs.c.iqr[[1]], pbul.c.iqr[[1]], cs.cy.iqr[[1]], pbul.cy.iqr[[1]]),
Q3 = c(cs.c.iqr[[3]], pbul.c.iqr[[3]], cs.cy.iqr[[3]], pbul.cy.iqr[[3]]),
"A \[CI99\%\]" = c(paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]")))
summary.tab <- data.frame(variable = c("citation count", "citation count", "citations per year", "citations per year"),
group = c("replicated", "comparison", "replicated", "comparison"),
n = c(cs.c.n, pbul.c.n, cs.cy.n, pbul.cy.n),
median = c(cs.c.iqr[[2]], pbul.c.iqr[[2]], cs.cy.iqr[[2]], pbul.cy.iqr[[2]]),
Q1 = c(cs.c.iqr[[1]], pbul.c.iqr[[1]], cs.cy.iqr[[1]], pbul.cy.iqr[[1]]),
Q3 = c(cs.c.iqr[[3]], pbul.c.iqr[[3]], cs.cy.iqr[[3]], pbul.cy.iqr[[3]]),
"A \\[CI99\\%\\]" = c(paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]")))
knitr::kable(summary.tab)
summary.tab <- data.frame(variable = c("citation count", "citation count", "citations per year", "citations per year"),
group = c("replicated", "comparison", "replicated", "comparison"),
n = c(cs.c.n, pbul.c.n, cs.cy.n, pbul.cy.n),
median = c(cs.c.iqr[[2]], pbul.c.iqr[[2]], cs.cy.iqr[[2]], pbul.cy.iqr[[2]]),
Q1 = c(cs.c.iqr[[1]], pbul.c.iqr[[1]], cs.cy.iqr[[1]], pbul.cy.iqr[[1]]),
Q3 = c(cs.c.iqr[[3]], pbul.c.iqr[[3]], cs.cy.iqr[[3]], pbul.cy.iqr[[3]]),
A = c(paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]"),
paste0(n.vda["VDA"], " 99%CI[", n.vda["lower.ci"], ", ", n.vda["upper.ci"], "]")))
knitr::kable(summary.tab)
n.vda <- vda(x = cs.n, y = pbul.n, ci = T, conf = .99)  # VDA for probability x>y
c.vda <- vda(x = cs.c, y = pbul.c, ci = T, conf = .99)  # VDA for probability x>y
cy.vda <- vda(x = cs.cy, y = pbul.cy, ci = T, conf = .99)  # VDA for probability x>y
RV.vda <- vda(x = cs.RV, y = pbul.RV, ci = T, conf = .99)  # VDA for probability x>y
merge(n,vda, c.vda)
cbind(n.vda, c.vda)
rbind(n.vda, c.vda)
rbind(n.vda, c.vda, n.vda, RV.vda)
## Save all vda values in a file so simulations do not have to be rerun every time script is sourced.
vdas <- rbind(n.vda, c.vda, n.vda, RV.vda)
## Save all vda values in a file so simulations do not have to be rerun every time script is sourced.
vdas <- rbind(c.vda, cy.vda, n.vda, RV.vda)
vdas
vdas$variable <- c("c", "cy", "n", "RV")
vdas
saveRDS(vdas, file = "vda_values.Rds")
rm(vdas)
readRDS("vda_values.Rds")
## Save/read all vda values in a file so simulations do not have to be rerun every time script is sourced.
# vdas <- rbind(c.vda, cy.vda, n.vda, RV.vda)
# vdas$variable <- c("c", "cy", "n", "RV")
# saveRDS(vdas, file = "vda_values.Rds")
vdas <- readRDS("vda_values.Rds")
rm(ls=list())
rm(list=ls())
source("RV_cursci_example.R")
rownames(vdas) <- c("c", "cy", "n", "RV")
rownames(vdas)
vdas
## Save/read all vda values in a file so simulations do not have to be rerun every time script is sourced.
vdas <- rbind(c.vda, cy.vda, n.vda, RV.vda)
c.vda <- vda(x = cs.c, y = pbul.c, ci = T, conf = .99)  # VDA for probability x>y
cy.vda <- vda(x = cs.cy, y = pbul.cy, ci = T, conf = .99)  # VDA for probability x>y
n.vda <- vda(x = cs.n, y = pbul.n, ci = T, conf = .99)  # VDA for probability x>y
RV.vda <- vda(x = cs.RV, y = pbul.RV, ci = T, conf = .99)  # VDA for probability x>y
## Save/read all vda values in a file so simulations do not have to be rerun every time script is sourced.
vdas <- rbind(c.vda, cy.vda, n.vda, RV.vda)
vdas
rownames(vdas) <- c("c", "cy", "n", "RV")
vdas
saveRDS(vdas, file = "vda_values.Rds")
vdas <- readRDS("vda_values.Rds")
vdas["c","VDA"]
rm(list=ls())
source("RV_cursci_example.R")
knitr::kable(summary.tab, caption = "Summary statistics for variables of interest in the replicated (Curate Science) and non-replicated (Psychological Bulletin) samples.")
summary.tab <- data.frame(variable = c("citation count", "citation count", "citations per year", "citations per year"),
group = c("replicated", "comparison", "replicated", "comparison"),
n = c(cs.c.n, pbul.c.n, cs.cy.n, pbul.cy.n),
median = c(cs.c.iqr[[2]], pbul.c.iqr[[2]], cs.cy.iqr[[2]], pbul.cy.iqr[[2]]),
Q1 = c(cs.c.iqr[[1]], pbul.c.iqr[[1]], cs.cy.iqr[[1]], pbul.cy.iqr[[1]]),
Q3 = c(cs.c.iqr[[3]], pbul.c.iqr[[3]], cs.cy.iqr[[3]], pbul.cy.iqr[[3]]),
A = c(paste0(vdas["c","VDA"], " 99%CI[", vdas["c","lower.ci"], ", ", vdas["c","upper.ci"], "]"),
paste0(vdas["cy","VDA"], " 99%CI[", vdas["cy","lower.ci"], ", ", vdas["cy","upper.ci"], "]"),
paste0(vdas["n","VDA"], " 99%CI[", vdas["n","lower.ci"], ", ", vdas["n","upper.ci"], "]"),
paste0(vdas["RV","VDA"], " 99%CI[", vdas["RV","lower.ci"], ", ", vdas["RV","upper.ci"], "]")))
knitr::kable(summary.tab, caption = "Summary statistics for variables of interest in the replicated (Curate Science) and non-replicated (Psychological Bulletin) samples.")
summary.tab <- data.frame(variable = c("citation count",
"citation count",
"citations per year",
"citations per year",
"sample size",
"sample size",
"replication value",
"replication value"),
group = c("replicated",
"comparison",
"replicated",
"comparison",
"replicated",
"comparison",
"replicated",
"comparison"),
n = c(cs.c.n,
pbul.c.n,
cs.cy.n,
pbul.cy.n,
cs.n.n,
pbul.n.n,
cs.RV.n,
pbul.RV.n),
median = c(cs.c.iqr[[2]],
pbul.c.iqr[[2]],
cs.cy.iqr[[2]],
pbul.cy.iqr[[2]],
cs.n.iqr[[2]],
pbul.n.iqr[[2]],
cs.RV.iqr[[2]],
pbul.RV.iqr[[2]]),
Q1 = c(cs.c.iqr[[1]],
pbul.c.iqr[[1]],
cs.cy.iqr[[1]],
pbul.cy.iqr[[1]],
cs.n.iqr[[1]],
pbul.n.iqr[[1]],
cs.RV.iqr[[1]],
pbul.RV.iqr[[1]]),
Q3 = c(cs.c.iqr[[3]],
pbul.c.iqr[[3]],
cs.cy.iqr[[3]],
pbul.cy.iqr[[3]],
cs.n.iqr[[3]],
pbul.n.iqr[[3]],
cs.RV.iqr[[3]],
pbul.RV.iqr[[3]]),
A = c(paste0(vdas["c","VDA"], " 99%CI[", vdas["c","lower.ci"], ", ", vdas["c","upper.ci"], "]"),
paste0(vdas["cy","VDA"], " 99%CI[", vdas["cy","lower.ci"], ", ", vdas["cy","upper.ci"], "]"),
paste0(vdas["n","VDA"], " 99%CI[", vdas["n","lower.ci"], ", ", vdas["n","upper.ci"], "]"),
paste0(vdas["RV","VDA"], " 99%CI[", vdas["RV","lower.ci"], ", ", vdas["RV","upper.ci"], "]")),
paste0(vdas["c","VDA"], " 99%CI[", vdas["c","lower.ci"], ", ", vdas["c","upper.ci"], "]"),
paste0(vdas["cy","VDA"], " 99%CI[", vdas["cy","lower.ci"], ", ", vdas["cy","upper.ci"], "]"),
paste0(vdas["n","VDA"], " 99%CI[", vdas["n","lower.ci"], ", ", vdas["n","upper.ci"], "]"),
paste0(vdas["RV","VDA"], " 99%CI[", vdas["RV","lower.ci"], ", ", vdas["RV","upper.ci"], "]")))
summary.tab <- data.frame(variable = c("citation count",
"citation count",
"citations per year",
"citations per year",
"sample size",
"sample size",
"replication value",
"replication value"),
group = c("replicated",
"comparison",
"replicated",
"comparison",
"replicated",
"comparison",
"replicated",
"comparison"),
n = c(cs.c.n,
pbul.c.n,
cs.cy.n,
pbul.cy.n,
cs.n.n,
pbul.n.n,
cs.RV.n,
pbul.RV.n),
median = c(cs.c.iqr[[2]],
pbul.c.iqr[[2]],
cs.cy.iqr[[2]],
pbul.cy.iqr[[2]],
cs.n.iqr[[2]],
pbul.n.iqr[[2]],
cs.RV.iqr[[2]],
pbul.RV.iqr[[2]]),
Q1 = c(cs.c.iqr[[1]],
pbul.c.iqr[[1]],
cs.cy.iqr[[1]],
pbul.cy.iqr[[1]],
cs.n.iqr[[1]],
pbul.n.iqr[[1]],
cs.RV.iqr[[1]],
pbul.RV.iqr[[1]]),
Q3 = c(cs.c.iqr[[3]],
pbul.c.iqr[[3]],
cs.cy.iqr[[3]],
pbul.cy.iqr[[3]],
cs.n.iqr[[3]],
pbul.n.iqr[[3]],
cs.RV.iqr[[3]],
pbul.RV.iqr[[3]]),
A = c(paste0(vdas["c","VDA"], " 99%CI[", vdas["c","lower.ci"], ", ", vdas["c","upper.ci"], "]"),
paste0(vdas["cy","VDA"], " 99%CI[", vdas["cy","lower.ci"], ", ", vdas["cy","upper.ci"], "]"),
paste0(vdas["n","VDA"], " 99%CI[", vdas["n","lower.ci"], ", ", vdas["n","upper.ci"], "]"),
paste0(vdas["RV","VDA"], " 99%CI[", vdas["RV","lower.ci"], ", ", vdas["RV","upper.ci"], "]")),
paste0(vdas["c","VDA"], " 99%CI[", vdas["c","lower.ci"], ", ", vdas["c","upper.ci"], "]"),
paste0(vdas["cy","VDA"], " 99%CI[", vdas["cy","lower.ci"], ", ", vdas["cy","upper.ci"], "]"),
paste0(vdas["n","VDA"], " 99%CI[", vdas["n","lower.ci"], ", ", vdas["n","upper.ci"], "]"),
paste0(vdas["RV","VDA"], " 99%CI[", vdas["RV","lower.ci"], ", ", vdas["RV","upper.ci"], "]"))
knitr::kable(summary.tab, caption = "Summary statistics for variables of interest in the replicated (Curate Science) and non-replicated (Psychological Bulletin) samples.")
A = c(paste0(vdas["c","VDA"], " 99%CI[", vdas["c","lower.ci"], ", ", vdas["c","upper.ci"], "]"),
paste0(vdas["cy","VDA"], " 99%CI[", vdas["cy","lower.ci"], ", ", vdas["cy","upper.ci"], "]"),
paste0(vdas["n","VDA"], " 99%CI[", vdas["n","lower.ci"], ", ", vdas["n","upper.ci"], "]"),
paste0(vdas["RV","VDA"], " 99%CI[", vdas["RV","lower.ci"], ", ", vdas["RV","upper.ci"], "]"),
paste0(vdas["c","VDA"], " 99%CI[", vdas["c","lower.ci"], ", ", vdas["c","upper.ci"], "]"),
paste0(vdas["cy","VDA"], " 99%CI[", vdas["cy","lower.ci"], ", ", vdas["cy","upper.ci"], "]"),
paste0(vdas["n","VDA"], " 99%CI[", vdas["n","lower.ci"], ", ", vdas["n","upper.ci"], "]"),
paste0(vdas["RV","VDA"], " 99%CI[", vdas["RV","lower.ci"], ", ", vdas["RV","upper.ci"], "]"))
A
summary.tab <- data.frame(variable = c("citation count",
"citation count",
"citations per year",
"citations per year",
"sample size",
"sample size",
"replication value",
"replication value"),
group = c("replicated",
"comparison",
"replicated",
"comparison",
"replicated",
"comparison",
"replicated",
"comparison"),
n = c(cs.c.n,
pbul.c.n,
cs.cy.n,
pbul.cy.n,
cs.n.n,
pbul.n.n,
cs.RV.n,
pbul.RV.n),
median = c(cs.c.iqr[[2]],
pbul.c.iqr[[2]],
cs.cy.iqr[[2]],
pbul.cy.iqr[[2]],
cs.n.iqr[[2]],
pbul.n.iqr[[2]],
cs.RV.iqr[[2]],
pbul.RV.iqr[[2]]),
Q1 = c(cs.c.iqr[[1]],
pbul.c.iqr[[1]],
cs.cy.iqr[[1]],
pbul.cy.iqr[[1]],
cs.n.iqr[[1]],
pbul.n.iqr[[1]],
cs.RV.iqr[[1]],
pbul.RV.iqr[[1]]),
Q3 = c(cs.c.iqr[[3]],
pbul.c.iqr[[3]],
cs.cy.iqr[[3]],
pbul.cy.iqr[[3]],
cs.n.iqr[[3]],
pbul.n.iqr[[3]],
cs.RV.iqr[[3]],
pbul.RV.iqr[[3]]),
A = c(paste0(vdas["c","VDA"], " 99%CI[", vdas["c","lower.ci"], ", ", vdas["c","upper.ci"], "]"),
paste0(vdas["cy","VDA"], " 99%CI[", vdas["cy","lower.ci"], ", ", vdas["cy","upper.ci"], "]"),
paste0(vdas["n","VDA"], " 99%CI[", vdas["n","lower.ci"], ", ", vdas["n","upper.ci"], "]"),
paste0(vdas["RV","VDA"], " 99%CI[", vdas["RV","lower.ci"], ", ", vdas["RV","upper.ci"], "]"),
paste0(vdas["c","VDA"], " 99%CI[", vdas["c","lower.ci"], ", ", vdas["c","upper.ci"], "]"),
paste0(vdas["cy","VDA"], " 99%CI[", vdas["cy","lower.ci"], ", ", vdas["cy","upper.ci"], "]"),
paste0(vdas["n","VDA"], " 99%CI[", vdas["n","lower.ci"], ", ", vdas["n","upper.ci"], "]"),
paste0(vdas["RV","VDA"], " 99%CI[", vdas["RV","lower.ci"], ", ", vdas["RV","upper.ci"], "]"))
)
A = c(paste0(vdas["c","VDA"], " 99%CI[", vdas["c","lower.ci"], ", ", vdas["c","upper.ci"], "]"),
"",
paste0(vdas["cy","VDA"], " 99%CI[", vdas["cy","lower.ci"], ", ", vdas["cy","upper.ci"], "]"),
"",
paste0(vdas["n","VDA"], " 99%CI[", vdas["n","lower.ci"], ", ", vdas["n","upper.ci"], "]"),
"",
paste0(vdas["RV","VDA"], " 99%CI[", vdas["RV","lower.ci"], ", ", vdas["RV","upper.ci"], "]")),
""
)
hist(curate_science$orig.N)
hist(curate_science$orig.N, breaks = 100)
hist(curate_science$orig.N, breaks = 200)
knitr::kable(summary.tab, digits = 2, caption = "Summary statistics for variables of interest in the replicated (Curate Science) and non-replicated (Psychological Bulletin) samples.")
knitr::kable(summary.tab, digits = 3, caption = "Summary statistics for variables of interest in the replicated (Curate Science) and non-replicated (Psychological Bulletin) samples.")
18000-15900
19000-15900
